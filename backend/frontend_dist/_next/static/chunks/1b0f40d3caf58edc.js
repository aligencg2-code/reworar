(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9165,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_URL||"/api",s=new class{token=null;constructor(){this.token=localStorage.getItem("demet_token")}setToken(e){this.token=e,localStorage.setItem("demet_token",e)}clearToken(){this.token=null,localStorage.removeItem("demet_token")}async request(e,s={}){let a={...s.headers};s.body instanceof FormData||(a["Content-Type"]=a["Content-Type"]||"application/json"),this.token&&(a.Authorization=`Bearer ${this.token}`);let r=await fetch(`${t}${e}`,{...s,headers:a});if(401===r.status)throw this.clearToken(),window.location.href="/login",Error("Oturum sÃ¼resi doldu");if(!r.ok)throw Error((await r.json().catch(()=>({detail:"Sunucu hatasÄ±"}))).detail||"Ä°stek baÅŸarÄ±sÄ±z");return r.json()}async login(e,t){let s=await this.request("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})});return this.setToken(s.access_token),s}async register(e,t,s){let a=await this.request("/auth/register",{method:"POST",body:JSON.stringify({username:e,email:t,password:s})});return this.setToken(a.access_token),a}getInstagramConnectUrl(){return`${t}/auth/instagram/connect`}async getDashboardStats(){return this.request("/dashboard/stats")}async getRecentActivity(e=20){return this.request(`/dashboard/activity?limit=${e}`)}async getAccounts(){return this.request("/accounts")}async getAccount(e){return this.request(`/accounts/${e}`)}async updateAccount(e,t){return this.request(`/accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteAccount(e){return this.request(`/accounts/${e}`,{method:"DELETE"})}async getPosts(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/posts${t}`)}async getCalendar(e,t,s){let a=new URLSearchParams({month:String(e),year:String(t)});return s&&a.set("account_id",String(s)),this.request(`/posts/calendar?${a}`)}async createPost(e){return this.request("/posts",{method:"POST",body:JSON.stringify(e)})}async updatePost(e,t){return this.request(`/posts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deletePost(e){return this.request(`/posts/${e}`,{method:"DELETE"})}async publishPost(e){return this.request(`/posts/${e}/publish`,{method:"POST"})}async getMedia(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/media${t}`)}async uploadMedia(e,s="photo",a="default",r){let n=new FormData;e.forEach(e=>n.append("files",e)),n.append("media_type",s),n.append("folder",a),r&&n.append("account_id",String(r));let i={};this.token&&(i.Authorization=`Bearer ${this.token}`);let l=await fetch(`${t}/media/upload`,{method:"POST",headers:i,body:n});if(!l.ok)throw Error("YÃ¼kleme baÅŸarÄ±sÄ±z");return l.json()}async resizeMedia(e,t){return this.request(`/media/${e}/resize?aspect_ratio=${t}`,{method:"POST"})}async deleteMedia(e){return this.request(`/media/${e}`,{method:"DELETE"})}async getConversations(e){return this.request(`/messages/conversations/${e}`)}async getMessageHistory(e,t,s=50){let a=new URLSearchParams({limit:String(s)});return t&&a.set("conversation_id",t),this.request(`/messages/history/${e}?${a}`)}async getTemplates(){return this.request("/messages/templates")}async createTemplate(e){return this.request("/messages/templates",{method:"POST",body:JSON.stringify(e)})}async deleteTemplate(e){return this.request(`/messages/templates/${e}`,{method:"DELETE"})}async getAutoReplyRules(){return this.request("/messages/auto-reply")}async createAutoReplyRule(e){return this.request("/messages/auto-reply",{method:"POST",body:JSON.stringify(e)})}async deleteAutoReplyRule(e){return this.request(`/messages/auto-reply/${e}`,{method:"DELETE"})}async startDownload(e){return this.request("/downloads/start",{method:"POST",body:JSON.stringify(e)})}async getDownloadStatus(e){return this.request(`/downloads/status/${e}`)}async stopDownload(e){return this.request(`/downloads/stop/${e}`,{method:"POST"})}async getHashtagGroups(e){let t=e?`?account_id=${e}`:"";return this.request(`/hashtags${t}`)}async createHashtagGroup(e){return this.request("/hashtags",{method:"POST",body:JSON.stringify(e)})}async updateHashtagGroup(e,t){return this.request(`/hashtags/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteHashtagGroup(e){return this.request(`/hashtags/${e}`,{method:"DELETE"})}async getSettings(){return this.request("/settings")}async updateSettings(e){return this.request("/settings",{method:"POST",body:JSON.stringify({settings:e})})}async getBackups(){return this.request("/dashboard/backups")}async createBackup(){return this.request("/dashboard/backups/create",{method:"POST"})}};e.s(["api",0,s])},31228,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(9165);let r={active:{label:"Aktif",color:"#2ecc71",icon:"âœ…",badgeClass:"badge-success"},restricted:{label:"KÄ±sÄ±tlandÄ±",color:"#e67e22",icon:"âš ï¸",badgeClass:"badge-warning"},action_blocked:{label:"Engellendi",color:"#e74c3c",icon:"ðŸš«",badgeClass:"badge-error"},disabled:{label:"Devre DÄ±ÅŸÄ±",color:"#95a5a6",icon:"ðŸ’€",badgeClass:"badge-error"},checkpoint:{label:"DoÄŸrulama Gerekli",color:"#f39c12",icon:"ðŸ”’",badgeClass:"badge-warning"},unknown:{label:"Bilinmiyor",color:"#7f8c8d",icon:"â“",badgeClass:"badge-warning"}};function n(){let[e,n]=(0,s.useState)(null),[i,l]=(0,s.useState)(!0),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),[h,p]=(0,s.useState)(null),[m,y]=(0,s.useState)("all"),[g,b]=(0,s.useState)(new Set),f=(e,t)=>{p({type:e,message:t}),setTimeout(()=>p(null),6e3)},x=(0,s.useCallback)(async()=>{try{let e=await a.api.request("/appeals/summary");n(e)}catch(e){f("error",e.message||"Veri yÃ¼klenemedi")}finally{l(!1)}},[]);(0,s.useEffect)(()=>{x()},[x]),(0,s.useEffect)(()=>{if(!o)return;let e=setInterval(async()=>{try{let e=await a.api.request("/appeals/check-status");u(e),("completed"===e.status||"error"===e.status)&&(c(!1),f("success",`âœ… ${e.checked} hesap kontrol edildi â€” ${e.problematic} sorunlu`),x())}catch{}},1500);return()=>clearInterval(e)},[o,x]);let k=async()=>{c(!0),u(null);try{await a.api.request("/appeals/check-all",{method:"POST"}),f("success","ðŸ” Hesap kontrolÃ¼ baÅŸlatÄ±ldÄ±...")}catch(e){c(!1),f("error",e.message)}},S=async()=>{let e=g.size>0?Array.from(g):null;try{let t=await a.api.request("/appeals/submit-bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_ids:e})});f("success",`âœ… ${t.total} hesap i\xe7in itiraz g\xf6nderildi!`),b(new Set),x()}catch(e){f("error",e.message)}},v=async e=>{try{let t=await a.api.request(`/appeals/check-single/${e}`,{method:"POST"});f(t.healthy?"success":"error",t.message),x()}catch(e){f("error",e.message)}};if(i)return(0,t.jsx)("div",{className:"flex-center",style:{height:"60vh"},children:(0,t.jsx)("div",{className:"spinner"})});let j=e?.accounts.filter(e=>"all"===m||("problematic"===m?"active"!==e.account_status:e.account_status===m))||[],_=e?e.restricted+e.action_blocked+e.disabled+e.checkpoint:0;return(0,t.jsxs)("div",{children:[h&&(0,t.jsx)("div",{style:{position:"fixed",top:20,right:20,zIndex:1e4,padding:"14px 20px",borderRadius:"var(--radius-lg)",background:"success"===h.type?"rgba(46,204,113,0.15)":"rgba(231,76,60,0.15)",border:`1px solid ${"success"===h.type?"rgba(46,204,113,0.4)":"rgba(231,76,60,0.4)"}`,backdropFilter:"blur(20px)",color:"success"===h.type?"#2ecc71":"#e74c3c",fontSize:"0.85rem",fontWeight:500,maxWidth:450,boxShadow:"0 8px 32px rgba(0,0,0,0.3)",animation:"slideIn 0.3s ease",cursor:"pointer"},onClick:()=>p(null),children:h.message}),(0,t.jsx)("style",{children:"@keyframes slideIn { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }"}),(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"page-header__title",children:"Sorunlu Hesap YÃ¶netimi"}),(0,t.jsx)("p",{className:"page-header__subtitle",children:"Hesap durumlarÄ±nÄ± kontrol edin, toplu itiraz gÃ¶nderin"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{className:"btn btn-secondary",onClick:k,disabled:o,children:o?"â³ Kontrol Ediliyor...":"ðŸ” TÃ¼mÃ¼nÃ¼ Kontrol Et"}),_>0&&(0,t.jsxs)("button",{className:"btn btn-primary",onClick:S,children:["ðŸ“© Toplu Ä°tiraz (",g.size>0?g.size:_," hesap)"]})]})]}),o&&d&&(0,t.jsxs)("div",{className:"card",style:{marginBottom:16},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,fontSize:"0.85rem"},children:[(0,t.jsx)("span",{children:"ðŸ” Hesaplar kontrol ediliyor..."}),(0,t.jsxs)("span",{children:[d.checked," / ",d.total]})]}),(0,t.jsx)("div",{className:"progress-bar",children:(0,t.jsx)("div",{className:"progress-bar__fill",style:{width:`${d.total>0?d.checked/d.total*100:0}%`}})}),d.problematic>0&&(0,t.jsxs)("div",{style:{marginTop:8,fontSize:"0.8rem",color:"#e74c3c"},children:["âš ï¸ ",d.problematic," sorunlu hesap bulundu"]})]}),e&&(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12,marginBottom:20},children:[{key:"all",label:"Toplam",value:e.total,icon:"ðŸ“Š",color:"var(--text-primary)"},{key:"active",label:"Aktif",value:e.active,icon:"âœ…",color:"#2ecc71"},{key:"restricted",label:"KÄ±sÄ±tlÄ±",value:e.restricted,icon:"âš ï¸",color:"#e67e22"},{key:"action_blocked",label:"Engelli",value:e.action_blocked,icon:"ðŸš«",color:"#e74c3c"},{key:"disabled",label:"Devre DÄ±ÅŸÄ±",value:e.disabled,icon:"ðŸ’€",color:"#95a5a6"},{key:"checkpoint",label:"DoÄŸrulama",value:e.checkpoint,icon:"ðŸ”’",color:"#f39c12"}].map(e=>(0,t.jsxs)("div",{className:"card",onClick:()=>y(e.key===m?"all":e.key),style:{cursor:"pointer",textAlign:"center",padding:"16px 12px",border:m===e.key?`2px solid ${e.color}`:void 0,transition:"all 200ms ease"},children:[(0,t.jsx)("div",{style:{fontSize:"1.5rem",marginBottom:4},children:e.icon}),(0,t.jsx)("div",{style:{fontSize:"1.4rem",fontWeight:700,color:e.color},children:e.value}),(0,t.jsx)("div",{style:{fontSize:"0.72rem",color:"var(--text-muted)"},children:e.label})]},e.key))}),_>0&&(0,t.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:16,alignItems:"center",flexWrap:"wrap"},children:[(0,t.jsxs)("button",{className:`btn btn-sm ${"problematic"===m?"btn-primary":"btn-secondary"}`,onClick:()=>y("problematic"===m?"all":"problematic"),children:["ðŸ”´ Sorunlu Hesaplar (",_,")"]}),(0,t.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>{e&&b(new Set(e.accounts.filter(e=>"active"!==e.account_status).map(e=>e.id)))},children:"â˜‘ï¸ TÃ¼m SorunlularÄ± SeÃ§"}),g.size>0&&(0,t.jsxs)("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[g.size," hesap seÃ§ildi"]})]}),0===j.length?(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state__icon",children:"âœ…"}),(0,t.jsx)("div",{className:"empty-state__title",children:"all"===m?"HenÃ¼z hesap eklenmemiÅŸ":"Bu kategoride hesap yok"})]}):(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:j.map(e=>{let s=r[e.account_status]||r.unknown,a=g.has(e.id);return(0,t.jsx)("div",{className:"card",style:{padding:"14px 16px",border:a?"2px solid var(--color-primary)":void 0,background:a?"rgba(233,30,144,0.04)":void 0},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,flex:1,flexWrap:"wrap"},children:["active"!==e.account_status&&(0,t.jsx)("input",{type:"checkbox",checked:a,onChange:()=>{var t;return t=e.id,void b(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})},style:{width:18,height:18,cursor:"pointer",accentColor:"var(--color-primary)"}}),(0,t.jsx)("div",{style:{width:42,height:42,borderRadius:"50%",background:"var(--gradient-primary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem",fontWeight:600,color:"#fff",overflow:"hidden"},children:e.profile_picture_url?(0,t.jsx)("img",{src:e.profile_picture_url,alt:e.username,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):e.username?.[0]?.toUpperCase()}),(0,t.jsxs)("div",{style:{flex:1,minWidth:120},children:[(0,t.jsxs)("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:["@",e.username,e.full_name&&(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontWeight:400,marginLeft:6},children:e.full_name})]}),(0,t.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:2},children:[e.followers_count.toLocaleString()," takipÃ§i",e.last_checked_at&&(0,t.jsxs)("span",{children:[" â€¢ Son kontrol: ",new Date(e.last_checked_at).toLocaleString("tr-TR")]})]}),e.status_message&&"active"!==e.account_status&&(0,t.jsx)("div",{style:{fontSize:"0.72rem",color:s.color,marginTop:4},children:e.status_message})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4,alignItems:"flex-end"},children:[(0,t.jsxs)("span",{className:`badge ${s.badgeClass}`,children:[s.icon," ",s.label]}),"none"!==e.appeal_status&&(0,t.jsxs)("span",{className:"badge badge-info",style:{fontSize:"0.65rem"},children:["ðŸ“© Ä°tiraz: ","submitted"===e.appeal_status?"GÃ¶nderildi":"pending"===e.appeal_status?"Bekliyor":e.appeal_status]})]}),(0,t.jsx)("div",{style:{display:"flex",gap:6},children:(0,t.jsx)("button",{className:"btn btn-icon btn-secondary",onClick:()=>v(e.id),title:"Kontrol Et",children:"ðŸ”"})})]})},e.id)})})]})}e.s(["default",()=>n])}]);