(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9165,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_URL||"/api",s=new class{token=null;constructor(){this.token=localStorage.getItem("demet_token")}setToken(e){this.token=e,localStorage.setItem("demet_token",e)}clearToken(){this.token=null,localStorage.removeItem("demet_token")}async request(e,s={}){let a={...s.headers};s.body instanceof FormData||(a["Content-Type"]=a["Content-Type"]||"application/json"),this.token&&(a.Authorization=`Bearer ${this.token}`);let r=await fetch(`${t}${e}`,{...s,headers:a});if(401===r.status)throw this.clearToken(),window.location.href="/login",Error("Oturum sÃ¼resi doldu");if(!r.ok)throw Error((await r.json().catch(()=>({detail:"Sunucu hatasÄ±"}))).detail||"Ä°stek baÅŸarÄ±sÄ±z");return r.json()}async login(e,t){let s=await this.request("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})});return this.setToken(s.access_token),s}async register(e,t,s){let a=await this.request("/auth/register",{method:"POST",body:JSON.stringify({username:e,email:t,password:s})});return this.setToken(a.access_token),a}getInstagramConnectUrl(){return`${t}/auth/instagram/connect`}async getDashboardStats(){return this.request("/dashboard/stats")}async getRecentActivity(e=20){return this.request(`/dashboard/activity?limit=${e}`)}async getAccounts(){return this.request("/accounts")}async getAccount(e){return this.request(`/accounts/${e}`)}async updateAccount(e,t){return this.request(`/accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteAccount(e){return this.request(`/accounts/${e}`,{method:"DELETE"})}async getPosts(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/posts${t}`)}async getCalendar(e,t,s){let a=new URLSearchParams({month:String(e),year:String(t)});return s&&a.set("account_id",String(s)),this.request(`/posts/calendar?${a}`)}async createPost(e){return this.request("/posts",{method:"POST",body:JSON.stringify(e)})}async updatePost(e,t){return this.request(`/posts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deletePost(e){return this.request(`/posts/${e}`,{method:"DELETE"})}async publishPost(e){return this.request(`/posts/${e}/publish`,{method:"POST"})}async getMedia(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/media${t}`)}async uploadMedia(e,s="photo",a="default",r){let n=new FormData;e.forEach(e=>n.append("files",e)),n.append("media_type",s),n.append("folder",a),r&&n.append("account_id",String(r));let i={};this.token&&(i.Authorization=`Bearer ${this.token}`);let o=await fetch(`${t}/media/upload`,{method:"POST",headers:i,body:n});if(!o.ok)throw Error("YÃ¼kleme baÅŸarÄ±sÄ±z");return o.json()}async resizeMedia(e,t){return this.request(`/media/${e}/resize?aspect_ratio=${t}`,{method:"POST"})}async deleteMedia(e){return this.request(`/media/${e}`,{method:"DELETE"})}async getConversations(e){return this.request(`/messages/conversations/${e}`)}async getMessageHistory(e,t,s=50){let a=new URLSearchParams({limit:String(s)});return t&&a.set("conversation_id",t),this.request(`/messages/history/${e}?${a}`)}async getTemplates(){return this.request("/messages/templates")}async createTemplate(e){return this.request("/messages/templates",{method:"POST",body:JSON.stringify(e)})}async deleteTemplate(e){return this.request(`/messages/templates/${e}`,{method:"DELETE"})}async getAutoReplyRules(){return this.request("/messages/auto-reply")}async createAutoReplyRule(e){return this.request("/messages/auto-reply",{method:"POST",body:JSON.stringify(e)})}async deleteAutoReplyRule(e){return this.request(`/messages/auto-reply/${e}`,{method:"DELETE"})}async startDownload(e){return this.request("/downloads/start",{method:"POST",body:JSON.stringify(e)})}async getDownloadStatus(e){return this.request(`/downloads/status/${e}`)}async stopDownload(e){return this.request(`/downloads/stop/${e}`,{method:"POST"})}async getHashtagGroups(e){let t=e?`?account_id=${e}`:"";return this.request(`/hashtags${t}`)}async createHashtagGroup(e){return this.request("/hashtags",{method:"POST",body:JSON.stringify(e)})}async updateHashtagGroup(e,t){return this.request(`/hashtags/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteHashtagGroup(e){return this.request(`/hashtags/${e}`,{method:"DELETE"})}async getSettings(){return this.request("/settings")}async updateSettings(e){return this.request("/settings",{method:"POST",body:JSON.stringify({settings:e})})}async getBackups(){return this.request("/dashboard/backups")}async createBackup(){return this.request("/dashboard/backups/create",{method:"POST"})}};e.s(["api",0,s])},7702,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(9165);function r(){let[e,r]=(0,s.useState)(""),[n,i]=(0,s.useState)("all"),[o,l]=(0,s.useState)(50),[d,c]=(0,s.useState)([]),[u,h]=(0,s.useState)(!1),m=async()=>{if(!e.trim())return alert("KullanÄ±cÄ± adÄ± girin");h(!0);try{let t=(await a.api.startDownload({target_username:e.replace("@","").trim(),media_type_filter:n,limit:o,mode:"scrape"})).job_id;g(t)}catch(e){alert(e.message)}finally{h(!1)}},g=e=>{let t={job_id:e,status:"running",total:0,downloaded:0,failed:0,errors:[]};c(e=>[...e,t]);let s=setInterval(async()=>{try{let t=await a.api.getDownloadStatus(e);c(s=>s.map(s=>s.job_id===e?{...s,...t}:s)),("completed"===t.status||"stopped"===t.status||"error"===t.status)&&clearInterval(s)}catch{clearInterval(s)}},2e3)},p=async e=>{try{await a.api.stopDownload(e)}catch(e){alert(e.message)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"page-header",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"page-header__title",children:"GÃ¶nderi Ä°ndirme"}),(0,t.jsx)("p",{className:"page-header__subtitle",children:"Herhangi bir hesabÄ±n gÃ¶nderilerini indirin â€” takip gerekmez"})]})}),(0,t.jsxs)("div",{className:"card",style:{marginBottom:24},children:[(0,t.jsx)("h4",{style:{marginBottom:16,fontSize:"0.95rem",fontWeight:600},children:"â¬‡ï¸ Yeni Ä°ndirme BaÅŸlat"}),(0,t.jsxs)("div",{className:"row-3",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Hedef KullanÄ±cÄ± AdÄ±"}),(0,t.jsx)("input",{className:"form-input",placeholder:"@kullanici_adi",value:e,onChange:e=>r(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Medya TÃ¼rÃ¼ Filtresi"}),(0,t.jsxs)("select",{className:"form-select",value:n,onChange:e=>i(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"TÃ¼mÃ¼"}),(0,t.jsx)("option",{value:"photo",children:"FotoÄŸraf"}),(0,t.jsx)("option",{value:"video",children:"Video"}),(0,t.jsx)("option",{value:"carousel",children:"Carousel"})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Limit (0 = sÄ±nÄ±rsÄ±z)"}),(0,t.jsx)("input",{type:"number",className:"form-input",min:0,value:o,onChange:e=>l(parseInt(e.target.value)||0)})]})]}),(0,t.jsxs)("div",{className:"info-box blue",style:{marginBottom:16},children:["ðŸ’¡ HesabÄ± ",(0,t.jsx)("b",{children:"takip etmenize gerek yoktur"}),". KullanÄ±cÄ± adÄ±nÄ± girmeniz yeterli â€” fotoÄŸraf ve videolar otomatik olarak indirilir. Profil ",(0,t.jsx)("b",{children:"public"})," (herkese aÃ§Ä±k) olmalÄ±dÄ±r."]}),(0,t.jsx)("button",{className:"btn btn-primary btn-lg",onClick:m,disabled:u||!e.trim(),children:u?"â³ BaÅŸlatÄ±lÄ±yor...":"ðŸš€ Ä°ndirmeye BaÅŸla"})]}),d.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{style:{fontSize:"1rem",fontWeight:600,marginBottom:16},children:"ðŸ“¥ Ä°ndirme Ä°ÅŸleri"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:d.map(e=>{let s=e.total>0?e.downloaded/e.total*100:0,a="completed"===e.status?"badge-success":"running"===e.status?"badge-primary":"error"===e.status?"badge-error":"badge-warning";return(0,t.jsxs)("div",{className:"card",style:{padding:16},children:[(0,t.jsxs)("div",{className:"flex-between",style:{marginBottom:12},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{style:{fontWeight:600,fontSize:"0.9rem",marginRight:8},children:["Ä°ÅŸ: ",e.job_id]}),(0,t.jsx)("span",{className:`badge ${a}`,children:e.status})]}),"running"===e.status&&(0,t.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>p(e.job_id),children:"â¹ï¸ Durdur"})]}),(0,t.jsx)("div",{className:"progress-bar",style:{marginBottom:8},children:(0,t.jsx)("div",{className:"progress-bar__fill",style:{width:`${s}%`}})}),(0,t.jsxs)("div",{style:{display:"flex",gap:24,fontSize:"0.82rem",color:"var(--text-secondary)"},children:[(0,t.jsxs)("span",{children:["ðŸ“Š Toplam: ",e.total]}),(0,t.jsxs)("span",{children:["âœ… Ä°ndirilen: ",e.downloaded]}),(0,t.jsxs)("span",{children:["âŒ HatalÄ±: ",e.failed]}),(0,t.jsxs)("span",{children:["ðŸ“ˆ Ä°lerleme: ",s.toFixed(0),"%"]})]}),e.errors.length>0&&(0,t.jsx)("div",{style:{marginTop:8},children:e.errors.map((e,s)=>(0,t.jsxs)("div",{style:{fontSize:"0.72rem",color:"var(--color-error)",marginTop:2},children:["âš ï¸ ",e]},s))})]},e.job_id)})})]}),0===d.length&&(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state__icon",children:"ðŸ“¥"}),(0,t.jsx)("div",{className:"empty-state__title",children:"Aktif indirme iÅŸi yok"}),(0,t.jsx)("p",{children:"YukarÄ±dan yeni bir indirme baÅŸlatabilirsiniz"})]})]})}e.s(["default",()=>r])}]);