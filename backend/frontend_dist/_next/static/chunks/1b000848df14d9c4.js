(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9165,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_URL||"/api",s=new class{token=null;constructor(){this.token=localStorage.getItem("demet_token")}setToken(e){this.token=e,localStorage.setItem("demet_token",e)}clearToken(){this.token=null,localStorage.removeItem("demet_token")}async request(e,s={}){let r={...s.headers};s.body instanceof FormData||(r["Content-Type"]=r["Content-Type"]||"application/json"),this.token&&(r.Authorization=`Bearer ${this.token}`);let a=await fetch(`${t}${e}`,{...s,headers:r});if(401===a.status)throw this.clearToken(),window.location.href="/login",Error("Oturum sÃ¼resi doldu");if(!a.ok)throw Error((await a.json().catch(()=>({detail:"Sunucu hatasÄ±"}))).detail||"Ä°stek baÅŸarÄ±sÄ±z");return a.json()}async login(e,t){let s=await this.request("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})});return this.setToken(s.access_token),s}async register(e,t,s){let r=await this.request("/auth/register",{method:"POST",body:JSON.stringify({username:e,email:t,password:s})});return this.setToken(r.access_token),r}getInstagramConnectUrl(){return`${t}/auth/instagram/connect`}async getDashboardStats(){return this.request("/dashboard/stats")}async getRecentActivity(e=20){return this.request(`/dashboard/activity?limit=${e}`)}async getAccounts(){return this.request("/accounts")}async getAccount(e){return this.request(`/accounts/${e}`)}async updateAccount(e,t){return this.request(`/accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteAccount(e){return this.request(`/accounts/${e}`,{method:"DELETE"})}async getPosts(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/posts${t}`)}async getCalendar(e,t,s){let r=new URLSearchParams({month:String(e),year:String(t)});return s&&r.set("account_id",String(s)),this.request(`/posts/calendar?${r}`)}async createPost(e){return this.request("/posts",{method:"POST",body:JSON.stringify(e)})}async updatePost(e,t){return this.request(`/posts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deletePost(e){return this.request(`/posts/${e}`,{method:"DELETE"})}async publishPost(e){return this.request(`/posts/${e}/publish`,{method:"POST"})}async getMedia(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/media${t}`)}async uploadMedia(e,s="photo",r="default",a){let i=new FormData;e.forEach(e=>i.append("files",e)),i.append("media_type",s),i.append("folder",r),a&&i.append("account_id",String(a));let n={};this.token&&(n.Authorization=`Bearer ${this.token}`);let l=await fetch(`${t}/media/upload`,{method:"POST",headers:n,body:i});if(!l.ok)throw Error("YÃ¼kleme baÅŸarÄ±sÄ±z");return l.json()}async resizeMedia(e,t){return this.request(`/media/${e}/resize?aspect_ratio=${t}`,{method:"POST"})}async deleteMedia(e){return this.request(`/media/${e}`,{method:"DELETE"})}async getConversations(e){return this.request(`/messages/conversations/${e}`)}async getMessageHistory(e,t,s=50){let r=new URLSearchParams({limit:String(s)});return t&&r.set("conversation_id",t),this.request(`/messages/history/${e}?${r}`)}async getTemplates(){return this.request("/messages/templates")}async createTemplate(e){return this.request("/messages/templates",{method:"POST",body:JSON.stringify(e)})}async deleteTemplate(e){return this.request(`/messages/templates/${e}`,{method:"DELETE"})}async getAutoReplyRules(){return this.request("/messages/auto-reply")}async createAutoReplyRule(e){return this.request("/messages/auto-reply",{method:"POST",body:JSON.stringify(e)})}async deleteAutoReplyRule(e){return this.request(`/messages/auto-reply/${e}`,{method:"DELETE"})}async startDownload(e){return this.request("/downloads/start",{method:"POST",body:JSON.stringify(e)})}async getDownloadStatus(e){return this.request(`/downloads/status/${e}`)}async stopDownload(e){return this.request(`/downloads/stop/${e}`,{method:"POST"})}async getHashtagGroups(e){let t=e?`?account_id=${e}`:"";return this.request(`/hashtags${t}`)}async createHashtagGroup(e){return this.request("/hashtags",{method:"POST",body:JSON.stringify(e)})}async updateHashtagGroup(e,t){return this.request(`/hashtags/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteHashtagGroup(e){return this.request(`/hashtags/${e}`,{method:"DELETE"})}async getSettings(){return this.request("/settings")}async updateSettings(e){return this.request("/settings",{method:"POST",body:JSON.stringify({settings:e})})}async getBackups(){return this.request("/dashboard/backups")}async createBackup(){return this.request("/dashboard/backups/create",{method:"POST"})}};e.s(["api",0,s])},59041,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(9165);function a(){let[e,a]=(0,s.useState)([]),[i,n]=(0,s.useState)(!0),[l,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),[x,b]=(0,s.useState)(""),[f,j]=(0,s.useState)(null),[S,v]=(0,s.useState)(null),[k,T]=(0,s.useState)(null),[_,w]=(0,s.useState)({}),[$,z]=(0,s.useState)(null),[N,q]=(0,s.useState)(""),[O,P]=(0,s.useState)(""),[E,C]=(0,s.useState)(!1),R=(e,t)=>{v({type:e,message:t}),setTimeout(()=>v(null),6e3)},A=(0,s.useCallback)(async()=>{try{let e=await r.api.getAccounts();a(e||[])}catch(e){console.error(e)}finally{n(!1)}},[]);(0,s.useEffect)(()=>{A()},[A]),(0,s.useEffect)(()=>{if(!x||!g)return;let e=setInterval(async()=>{try{let e=await r.api.request(`/accounts/login-status/${x}`);if(j(e),"completed"===e.status){y(!1);let t=[];e.success>0&&t.push(`âœ… ${e.success} baÅŸarÄ±lÄ±`),e.challenges>0&&t.push(`ðŸ“§ ${e.challenges} doÄŸrulama bekliyor`),e.errors>0&&t.push(`âŒ ${e.errors} hatalÄ±`),R(e.success>0?"success":"error",`Toplu giriÅŸ tamamlandÄ±: ${t.join(", ")}`),A()}}catch{}},2e3);return()=>clearInterval(e)},[x,g,A]);let D=async()=>{if(d.trim()){p(!0);try{let e=await r.api.request("/accounts/bulk-import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accounts_text:d,default_proxy:u||null})});R("success",`âœ… ${e.added} hesap eklendi, ${e.updated} g\xfcncellendi`+(e.errors?.length?` (${e.errors.length} hata)`:"")),c(""),o(!1),A()}catch(e){R("error",e.message)}finally{p(!1)}}},H=async()=>{y(!0),j(null);try{let e=await r.api.request("/accounts/bulk-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_ids:null})});b(e.job_id),R("success","ðŸ”„ Toplu giriÅŸ baÅŸlatÄ±ldÄ±...")}catch(e){y(!1),R("error",e.message)}},I=async e=>{try{R("success","ðŸ”„ GiriÅŸ deneniyor...");let t=await r.api.request("/accounts/login-single",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_id:e})});t.success?R("success",`âœ… @${t.username} giriÅŸ baÅŸarÄ±lÄ±`):t.needs_code?(z(e),q(""),P(t.message||"Email doÄŸrulama kodu girin"),R("success","ðŸ“§ Email doÄŸrulama kodu gÃ¶nderildi")):R("error",`âŒ ${t.message}`),A()}catch(e){R("error",e.message)}},B=async()=>{if($&&N.trim()){C(!0);try{let e=await r.api.request("/accounts/submit-challenge-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_id:$,code:N.trim()})});e.success?(R("success",`âœ… @${e.username||""} doÄŸrulama baÅŸarÄ±lÄ±!`),z(null),q(""),A()):R("error",`âŒ ${e.message}`)}catch(e){R("error",e.message)}finally{C(!1)}}},J=async(e,t)=>{if(confirm(`@${t} hesabÄ±nÄ± silmek istediÄŸinize emin misiniz?`))try{await r.api.deleteAccount(e),R("success",`âœ… @${t} kaldÄ±rÄ±ldÄ±`),A()}catch(e){R("error",e.message)}},W=e.length,G=e.filter(e=>e.session_valid).length,L=e.filter(e=>!e.session_valid).length;return i?(0,t.jsx)("div",{className:"flex-center",style:{height:"60vh"},children:(0,t.jsx)("div",{className:"spinner"})}):(0,t.jsxs)("div",{children:[S&&(0,t.jsx)("div",{style:{position:"fixed",top:20,right:20,zIndex:1e4,padding:"14px 20px",borderRadius:"var(--radius-lg)",background:"success"===S.type?"rgba(46,204,113,0.15)":"rgba(231,76,60,0.15)",border:`1px solid ${"success"===S.type?"rgba(46,204,113,0.4)":"rgba(231,76,60,0.4)"}`,backdropFilter:"blur(20px)",color:"success"===S.type?"#2ecc71":"#e74c3c",fontSize:"0.85rem",fontWeight:500,maxWidth:450,boxShadow:"0 8px 32px rgba(0,0,0,0.3)",animation:"slideIn 0.3s ease",cursor:"pointer"},onClick:()=>v(null),children:S.message}),(0,t.jsx)("style",{children:"@keyframes slideIn { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }"}),$&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>z(null),children:(0,t.jsxs)("div",{style:{background:"var(--glass-bg, rgba(30,30,40,0.95))",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"var(--radius-xl, 16px)",padding:"32px",maxWidth:420,width:"90%",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h3",{style:{margin:"0 0 8px",fontSize:"1.1rem"},children:"ðŸ“§ Email DoÄŸrulama"}),(0,t.jsx)("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",margin:"0 0 20px",lineHeight:1.5},children:O}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>q(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"6 haneli kodu girin",maxLength:6,autoFocus:!0,style:{width:"100%",padding:"14px 16px",fontSize:"1.2rem",textAlign:"center",letterSpacing:"0.3em",fontWeight:600,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:"var(--radius-md, 10px)",color:"#fff",outline:"none",boxSizing:"border-box"},onKeyDown:e=>"Enter"===e.key&&6===N.length&&B()}),(0,t.jsxs)("div",{style:{display:"flex",gap:12,marginTop:20},children:[(0,t.jsx)("button",{onClick:()=>z(null),style:{flex:1,padding:"12px",borderRadius:"var(--radius-md, 10px)",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.7)",cursor:"pointer",fontSize:"0.85rem"},children:"Ä°ptal"}),(0,t.jsx)("button",{onClick:B,disabled:6!==N.length||E,style:{flex:2,padding:"12px",borderRadius:"var(--radius-md, 10px)",background:6===N.length?"linear-gradient(135deg, #667eea, #764ba2)":"rgba(255,255,255,0.08)",border:"none",color:"#fff",cursor:6===N.length?"pointer":"not-allowed",fontWeight:600,fontSize:"0.85rem",opacity:E?.6:1},children:E?"DoÄŸrulanÄ±yor...":"Kodu GÃ¶nder"})]})]})}),(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"page-header__title",children:"Hesap YÃ¶netimi"}),(0,t.jsxs)("p",{className:"page-header__subtitle",children:[W," hesap Â· ",G," aktif oturum"]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{className:"btn btn-secondary",onClick:H,disabled:g||0===W,children:g?"â³ GiriÅŸ yapÄ±lÄ±yor...":"ðŸ”‘ Toplu GiriÅŸ"}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>o(!l),children:"âž• Toplu Hesap Ekle"})]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12,marginBottom:20},children:[(0,t.jsxs)("div",{className:"card",style:{padding:"16px",textAlign:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"1.6rem",fontWeight:800},children:W}),(0,t.jsx)("div",{style:{fontSize:"0.72rem",color:"var(--text-muted)",marginTop:4},children:"Toplam Hesap"})]}),(0,t.jsxs)("div",{className:"card",style:{padding:"16px",textAlign:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"1.6rem",fontWeight:800,color:"#2ecc71"},children:G}),(0,t.jsx)("div",{style:{fontSize:"0.72rem",color:"var(--text-muted)",marginTop:4},children:"Aktif Oturum"})]}),(0,t.jsxs)("div",{className:"card",style:{padding:"16px",textAlign:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"1.6rem",fontWeight:800,color:"#e74c3c"},children:L}),(0,t.jsx)("div",{style:{fontSize:"0.72rem",color:"var(--text-muted)",marginTop:4},children:"GeÃ§ersiz Oturum"})]})]}),(g||f)&&f&&(0,t.jsxs)("div",{className:"card",style:{padding:"16px",marginBottom:16},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,t.jsx)("span",{style:{fontWeight:600},children:"ðŸ”‘ Toplu GiriÅŸ"}),(0,t.jsxs)("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[f.done,"/",f.total," Â· ",f.current||("completed"===f.status?"TamamlandÄ±":"")]})]}),(0,t.jsx)("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:8,height:8,overflow:"hidden"},children:(0,t.jsx)("div",{style:{width:`${f.total?f.done/f.total*100:0}%`,height:"100%",background:"var(--gradient-primary)",borderRadius:8,transition:"width 0.5s ease"}})}),(0,t.jsxs)("div",{style:{display:"flex",gap:16,marginTop:8,fontSize:"0.75rem",color:"var(--text-muted)"},children:[(0,t.jsxs)("span",{children:["âœ… ",f.success," baÅŸarÄ±lÄ±"]}),(f.challenges||0)>0&&(0,t.jsxs)("span",{children:["ðŸ“§ ",f.challenges," doÄŸrulama"]}),(0,t.jsxs)("span",{children:["âŒ ",f.errors," hatalÄ±"]})]}),"completed"===f.status&&f.challenge_accounts?.length>0&&(0,t.jsxs)("div",{style:{marginTop:12,borderTop:"1px solid rgba(255,255,255,0.08)",paddingTop:12},children:[(0,t.jsx)("div",{style:{fontSize:"0.8rem",fontWeight:600,marginBottom:8,color:"#f39c12"},children:"ðŸ“§ DoÄŸrulama Kodu Bekleyen Hesaplar:"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:f.challenge_accounts.map(e=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderRadius:8,background:"rgba(243,156,18,0.08)",border:"1px solid rgba(243,156,18,0.2)"},children:[(0,t.jsxs)("span",{style:{fontSize:"0.8rem"},children:["@",e.username]}),(0,t.jsx)("button",{className:"btn btn-sm btn-primary",onClick:()=>{z(e.id),q(""),P(e.message||"Email doÄŸrulama kodu girin")},style:{fontSize:"0.72rem",padding:"4px 12px"},children:"ðŸ“§ Kod Gir"})]},e.id))})]})]}),l&&(0,t.jsxs)("div",{className:"card",style:{marginBottom:20,padding:"20px"},children:[(0,t.jsx)("h3",{style:{marginBottom:12,fontSize:"1rem",fontWeight:700},children:"ðŸ“‹ Toplu Hesap Ä°mport"}),(0,t.jsxs)("div",{className:"info-box blue",style:{marginBottom:16},children:["Her satÄ±ra bir hesap yazÄ±n. Format:",(0,t.jsx)("br",{}),(0,t.jsx)("code",{style:{background:"rgba(255,255,255,0.1)",padding:"2px 6px",borderRadius:4,fontSize:"0.75rem"},children:"kullanici_adi:sifre:email:email_sifresi:2fa_seed"}),(0,t.jsx)("br",{}),(0,t.jsx)("small",{style:{opacity:.7,fontSize:"0.7rem"},children:"ðŸ“§ Email bilgileri ile checkpoint/2FA otomatik Ã§Ã¶zÃ¼lÃ¼r! Son 3 alan opsiyoneldir."})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Hesaplar"}),(0,t.jsx)("textarea",{className:"form-input",rows:8,placeholder:`hesap1:sifre123:mail@aol.com:mailsifre:TOTP2FASEED
hesap2:sifre456:mail2@gmail.com:mailsifre2
hesap3:sifre789`,value:d,onChange:e=>c(e.target.value),style:{fontFamily:"monospace",fontSize:"0.8rem"}}),(0,t.jsxs)("small",{style:{color:"var(--text-muted)",fontSize:"0.7rem"},children:[d.split("\n").filter(e=>e.trim()).length," satÄ±r"]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"VarsayÄ±lan Proxy (opsiyonel â€” proxy belirtilmeyen hesaplar iÃ§in)"}),(0,t.jsx)("input",{className:"form-input",placeholder:"socks5://user:pass@ip:port veya http://ip:port",value:u,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[(0,t.jsx)("button",{className:"btn btn-secondary",onClick:()=>o(!1),children:"Ä°ptal"}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:D,disabled:m||!d.trim(),children:m?"â³ Ä°Ã§e aktarÄ±lÄ±yor...":`ðŸ“¥ ${d.split("\n").filter(e=>e.trim()).length} Hesap Ekle`})]})]}),0===e.length?(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state__icon",children:"ðŸ‘¤"}),(0,t.jsx)("div",{className:"empty-state__title",children:"HenÃ¼z hesap eklenmemiÅŸ"}),(0,t.jsx)("p",{style:{color:"var(--text-secondary)",maxWidth:400,margin:"8px auto"},children:'YukarÄ±daki "Toplu Hesap Ekle" butonuna tÄ±klayarak kullanÄ±cÄ±_adÄ±:ÅŸifre formatÄ±nda hesaplarÄ±nÄ±zÄ± ekleyin.'})]}):(0,t.jsx)("div",{className:"table-container",children:(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Hesap"}),(0,t.jsx)("th",{children:"Oturum"}),(0,t.jsx)("th",{children:"Durum"}),(0,t.jsx)("th",{children:"Son GiriÅŸ"}),(0,t.jsx)("th",{children:"Proxy"}),(0,t.jsx)("th",{children:"Ä°ÅŸlemler"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)("div",{style:{width:36,height:36,borderRadius:"50%",background:"var(--gradient-primary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:700,color:"#fff",overflow:"hidden",flexShrink:0},children:e.profile_picture_url?(0,t.jsx)("img",{src:e.profile_picture_url,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.username?.[0]?.toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{fontWeight:600,fontSize:"0.85rem"},children:["@",e.username]}),e.full_name&&(0,t.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:e.full_name})]})]})}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:`badge ${e.session_valid?"badge-success":"badge-error"}`,style:{fontSize:"0.65rem"},children:e.session_valid?"âœ… Aktif":"âŒ GeÃ§ersiz"})}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:`badge ${"active"===e.account_status?"badge-success":"checkpoint"===e.account_status?"badge-warning":"badge-error"}`,style:{fontSize:"0.65rem"},children:e.account_status||"bilinmiyor"})}),(0,t.jsx)("td",{style:{fontSize:"0.72rem",color:"var(--text-secondary)"},children:e.last_login_at?new Date(e.last_login_at).toLocaleString("tr-TR"):"â€”"}),(0,t.jsx)("td",{style:{fontSize:"0.7rem",color:"var(--text-muted)",maxWidth:150,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.proxy_url||"â€”"}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,t.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>I(e.id),title:"GiriÅŸ Yap",children:"ðŸ”‘"}),(0,t.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>J(e.id,e.username),title:"Sil",children:"ðŸ—‘ï¸"})]})})]},e.id))})]})})]})}e.s(["default",()=>a])}]);