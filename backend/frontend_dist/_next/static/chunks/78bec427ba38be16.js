(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9165,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_URL||"/api",s=new class{token=null;constructor(){this.token=localStorage.getItem("demet_token")}setToken(e){this.token=e,localStorage.setItem("demet_token",e)}clearToken(){this.token=null,localStorage.removeItem("demet_token")}async request(e,s={}){let a={...s.headers};s.body instanceof FormData||(a["Content-Type"]=a["Content-Type"]||"application/json"),this.token&&(a.Authorization=`Bearer ${this.token}`);let r=await fetch(`${t}${e}`,{...s,headers:a});if(401===r.status)throw this.clearToken(),window.location.href="/login",Error("Oturum sÃ¼resi doldu");if(!r.ok)throw Error((await r.json().catch(()=>({detail:"Sunucu hatasÄ±"}))).detail||"Ä°stek baÅŸarÄ±sÄ±z");return r.json()}async login(e,t){let s=await this.request("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})});return this.setToken(s.access_token),s}async register(e,t,s){let a=await this.request("/auth/register",{method:"POST",body:JSON.stringify({username:e,email:t,password:s})});return this.setToken(a.access_token),a}getInstagramConnectUrl(){return`${t}/auth/instagram/connect`}async getDashboardStats(){return this.request("/dashboard/stats")}async getRecentActivity(e=20){return this.request(`/dashboard/activity?limit=${e}`)}async getAccounts(){return this.request("/accounts")}async getAccount(e){return this.request(`/accounts/${e}`)}async updateAccount(e,t){return this.request(`/accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteAccount(e){return this.request(`/accounts/${e}`,{method:"DELETE"})}async getPosts(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/posts${t}`)}async getCalendar(e,t,s){let a=new URLSearchParams({month:String(e),year:String(t)});return s&&a.set("account_id",String(s)),this.request(`/posts/calendar?${a}`)}async createPost(e){return this.request("/posts",{method:"POST",body:JSON.stringify(e)})}async updatePost(e,t){return this.request(`/posts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deletePost(e){return this.request(`/posts/${e}`,{method:"DELETE"})}async publishPost(e){return this.request(`/posts/${e}/publish`,{method:"POST"})}async getMedia(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/media${t}`)}async uploadMedia(e,s="photo",a="default",r){let n=new FormData;e.forEach(e=>n.append("files",e)),n.append("media_type",s),n.append("folder",a),r&&n.append("account_id",String(r));let i={};this.token&&(i.Authorization=`Bearer ${this.token}`);let l=await fetch(`${t}/media/upload`,{method:"POST",headers:i,body:n});if(!l.ok)throw Error("YÃ¼kleme baÅŸarÄ±sÄ±z");return l.json()}async resizeMedia(e,t){return this.request(`/media/${e}/resize?aspect_ratio=${t}`,{method:"POST"})}async deleteMedia(e){return this.request(`/media/${e}`,{method:"DELETE"})}async getConversations(e){return this.request(`/messages/conversations/${e}`)}async getMessageHistory(e,t,s=50){let a=new URLSearchParams({limit:String(s)});return t&&a.set("conversation_id",t),this.request(`/messages/history/${e}?${a}`)}async getTemplates(){return this.request("/messages/templates")}async createTemplate(e){return this.request("/messages/templates",{method:"POST",body:JSON.stringify(e)})}async deleteTemplate(e){return this.request(`/messages/templates/${e}`,{method:"DELETE"})}async getAutoReplyRules(){return this.request("/messages/auto-reply")}async createAutoReplyRule(e){return this.request("/messages/auto-reply",{method:"POST",body:JSON.stringify(e)})}async deleteAutoReplyRule(e){return this.request(`/messages/auto-reply/${e}`,{method:"DELETE"})}async startDownload(e){return this.request("/downloads/start",{method:"POST",body:JSON.stringify(e)})}async getDownloadStatus(e){return this.request(`/downloads/status/${e}`)}async stopDownload(e){return this.request(`/downloads/stop/${e}`,{method:"POST"})}async getHashtagGroups(e){let t=e?`?account_id=${e}`:"";return this.request(`/hashtags${t}`)}async createHashtagGroup(e){return this.request("/hashtags",{method:"POST",body:JSON.stringify(e)})}async updateHashtagGroup(e,t){return this.request(`/hashtags/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteHashtagGroup(e){return this.request(`/hashtags/${e}`,{method:"DELETE"})}async getSettings(){return this.request("/settings")}async updateSettings(e){return this.request("/settings",{method:"POST",body:JSON.stringify({settings:e})})}async getBackups(){return this.request("/dashboard/backups")}async createBackup(){return this.request("/dashboard/backups/create",{method:"POST"})}};e.s(["api",0,s])},52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(9165);function r(){let[e,r]=(0,s.useState)(null),[n,i]=(0,s.useState)([]),[l,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{d()},[]);let d=async()=>{try{let[e,t]=await Promise.all([a.api.getDashboardStats(),a.api.getRecentActivity(10)]);r(e),i(t.activities||[])}catch(e){console.error("Dashboard yÃ¼klenemedi:",e)}finally{c(!1)}};return l?(0,t.jsx)("div",{className:"flex-center",style:{height:"60vh"},children:(0,t.jsx)("div",{className:"spinner"})}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"page-header__title",children:"Dashboard"}),(0,t.jsx)("p",{className:"page-header__subtitle",children:"Instagram hesaplarÄ±nÄ±zÄ±n genel durumu"})]}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:d,children:"ðŸ”„ Yenile"})]}),(0,t.jsxs)("div",{className:"stats-grid",children:[(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-icon pink",children:"ðŸ‘¤"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"stat-value",children:e?.total_accounts||0}),(0,t.jsx)("div",{className:"stat-label",children:"Toplam Hesap"})]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-icon green",children:"âœ…"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"stat-value",children:e?.active_accounts||0}),(0,t.jsx)("div",{className:"stat-label",children:"Aktif Hesap"})]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-icon blue",children:"ðŸ“Š"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"stat-value",children:e?.posts_today||0}),(0,t.jsx)("div",{className:"stat-label",children:"BugÃ¼n PaylaÅŸÄ±lan"})]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-icon orange",children:"â°"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"stat-value",children:e?.scheduled_posts||0}),(0,t.jsx)("div",{className:"stat-label",children:"Planlanan GÃ¶nderi"})]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-icon purple",children:"ðŸ–¼ï¸"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"stat-value",children:e?.total_media||0}),(0,t.jsx)("div",{className:"stat-label",children:"Medya DosyasÄ±"})]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-icon pink",children:"ðŸ’¬"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"stat-value",children:e?.unread_messages||0}),(0,t.jsx)("div",{className:"stat-label",children:"OkunmamÄ±ÅŸ Mesaj"})]})]})]}),(0,t.jsxs)("div",{className:"row-2",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h3",{className:"card-title",children:"ðŸ“‹ Son Aktiviteler"})}),n.length>0?(0,t.jsx)("div",{children:n.map(e=>(0,t.jsxs)("div",{style:{padding:"10px 0",borderBottom:"1px solid var(--border-color)",display:"flex",alignItems:"center",gap:12},children:[(0,t.jsx)("span",{className:`badge badge-${"error"===e.level?"error":"warning"===e.level?"warning":"info"}`,children:e.level}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{fontSize:"0.85rem"},children:e.action}),(0,t.jsx)("div",{style:{fontSize:"0.72rem",color:"var(--text-muted)"},children:new Date(e.created_at).toLocaleString("tr-TR")})]})]},e.id))}):(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state__icon",children:"ðŸ“‹"}),(0,t.jsx)("div",{className:"empty-state__title",children:"HenÃ¼z aktivite yok"}),(0,t.jsx)("p",{children:"Hesap baÄŸladÄ±ÄŸÄ±nÄ±zda aktiviteler burada gÃ¶rÃ¼necek"})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h3",{className:"card-title",children:"âš¡ HÄ±zlÄ± Ä°ÅŸlemler"})}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,t.jsx)("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},onClick:()=>window.location.href="/accounts",children:"âž• Yeni Hesap BaÄŸla"}),(0,t.jsx)("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},onClick:()=>window.location.href="/posts",children:"ðŸ“ Yeni GÃ¶nderi OluÅŸtur"}),(0,t.jsx)("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},onClick:()=>window.location.href="/media",children:"ðŸ–¼ï¸ Medya YÃ¼kle"}),(0,t.jsx)("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},onClick:()=>window.location.href="/messages",children:"ðŸ’¬ MesajlarÄ± GÃ¶rÃ¼ntÃ¼le"}),(0,t.jsx)("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},onClick:()=>window.location.href="/downloads",children:"â¬‡ï¸ GÃ¶nderi Ä°ndir"})]}),e?.failed_posts_week>0&&(0,t.jsxs)("div",{className:"info-box pink",style:{marginTop:16},children:["âš ï¸ Son 7 gÃ¼nde ",(0,t.jsx)("b",{children:e.failed_posts_week})," gÃ¶nderi hatalÄ± oldu. Hesap ayarlarÄ±nÄ± kontrol edin."]})]})]})]})}e.s(["default",()=>r])}]);